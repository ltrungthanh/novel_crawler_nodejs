import{Settings as e}from"../common/common.js";import{ls as t}from"../platform/platform.js";import{Runtime as i}from"../root/root.js";import{ViewManager as o,ActionRegistration as n}from"../ui/ui.js";let a;async function l(){return a||(await i.Runtime.instance().loadModulePromise("emulation"),a=await import("./emulation.js")),a}o.registerViewExtension({location:"settings-view",commandPrompt:()=>t`Show Devices`,title:()=>t`Devices`,order:30,loadView:async()=>(await l()).DevicesSettingsTab.DevicesSettingsTab.instance(),id:"devices",settings:["standardEmulatedDeviceList","customEmulatedDeviceList"]}),o.registerViewExtension({location:"drawer-view",commandPrompt:()=>t`Show Sensors`,title:()=>t`Sensors`,id:"sensors",persistence:"closeable",order:100,loadView:async()=>(await l()).SensorsView.SensorsView.instance(),tags:[()=>t`geolocation`,()=>t`timezones`,()=>t`locale`,()=>t`locales`,()=>t`accelerometer`,()=>t`device orientation`]}),o.registerViewExtension({location:"settings-view",id:"emulation-locations",commandPrompt:()=>t`Show Locations`,title:()=>t`Locations`,order:40,loadView:async()=>(await l()).LocationsSettingsTab.LocationsSettingsTab.instance(),settings:["emulation.locations"]}),n.registerActionExtension({category:n.ActionCategory.MOBILE,actionId:"emulation.toggle-device-mode",toggleable:!0,loadActionDelegate:async()=>(await l()).DeviceModeWrapper.ActionDelegate.instance(),condition:i.ConditionName.CAN_DOCK,title:()=>t`Toggle device toolbar`,iconClass:"largeicon-phone",bindings:[{platform:"windows,linux",shortcut:"Shift+Ctrl+M"},{platform:"mac",shortcut:"Shift+Meta+M"}]}),n.registerActionExtension({actionId:"emulation.capture-screenshot",category:n.ActionCategory.SCREENSHOT,loadActionDelegate:async()=>(await l()).DeviceModeWrapper.ActionDelegate.instance(),condition:i.ConditionName.CAN_DOCK,title:()=>t`Capture screenshot`}),n.registerActionExtension({actionId:"emulation.capture-full-height-screenshot",category:n.ActionCategory.SCREENSHOT,loadActionDelegate:async()=>(await l()).DeviceModeWrapper.ActionDelegate.instance(),condition:i.ConditionName.CAN_DOCK,title:()=>t`Capture full size screenshot`}),n.registerActionExtension({actionId:"emulation.capture-node-screenshot",category:n.ActionCategory.SCREENSHOT,loadActionDelegate:async()=>(await l()).DeviceModeWrapper.ActionDelegate.instance(),condition:i.ConditionName.CAN_DOCK,title:()=>t`Capture node screenshot`}),n.registerActionExtension({actionId:"emulation.show-sensors",category:n.ActionCategory.SENSORS,loadActionDelegate:async()=>(await l()).SensorsView.ShowActionDelegate.instance(),title:()=>t`Sensors`}),e.registerSettingExtension({category:e.SettingCategoryObject.MOBILE,settingName:"showMediaQueryInspector",settingType:e.SettingTypeObject.BOOLEAN,defaultValue:!1,options:[{value:!0,title:()=>t`Show media queries`},{value:!1,title:()=>t`Hide media queries`}],tags:[()=>t`device`]}),e.registerSettingExtension({category:e.SettingCategoryObject.MOBILE,settingName:"emulation.showRulers",settingType:e.SettingTypeObject.BOOLEAN,defaultValue:!1,options:[{value:!0,title:()=>t`Show rulers`},{value:!1,title:()=>t`Hide rulers`}],tags:[()=>t`device`]}),e.registerSettingExtension({category:e.SettingCategoryObject.MOBILE,settingName:"emulation.showDeviceOutline",settingType:e.SettingTypeObject.BOOLEAN,defaultValue:!1,options:[{value:!0,title:()=>t`Show device frame`},{value:!1,title:()=>t`Hide device frame`}],tags:[()=>t`device`]}),e.registerSettingExtension({settingName:"emulation.locations",settingType:e.SettingTypeObject.ARRAY,defaultValue:[{title:()=>t`Berlin`,lat:52.520007,long:13.404954,timezoneId:"Europe/Berlin",locale:"de_DE"},{title:()=>t`London`,lat:51.507351,long:-.127758,timezoneId:"Europe/London",locale:"en_GB"},{title:()=>t`Moscow`,lat:55.755826,long:37.6173,timezoneId:"Europe/Moscow",locale:"ru_RU"},{title:()=>t`Mountain View`,lat:37.386052,long:-122.083851,timezoneId:"US/Pacific",locale:"en_US"},{title:()=>t`Mumbai`,lat:19.075984,long:72.877656,timezoneId:"Asia/Kolkata",locale:"mr_IN"},{title:()=>t`San Francisco`,lat:37.774929,long:-122.419416,timezoneId:"US/Pacific",locale:"en_US"},{title:()=>t`Shanghai`,lat:31.230416,long:121.473701,timezoneId:"Asia/Shanghai",locale:"zh_Hans_CN"},{title:()=>t`SÃ£o Paulo`,lat:-23.55052,long:-46.633309,timezoneId:"America/Sao_Paulo",locale:"pt_BR"},{title:()=>t`Tokyo`,lat:35.689487,long:139.691706,timezoneId:"Asia/Tokyo",locale:"ja_JP"}]}),e.registerSettingExtension({title:()=>t`Touch`,reloadRequired:!0,settingName:"emulation.touch",settingType:e.SettingTypeObject.ENUM,defaultValue:"none",options:[{value:"none",title:()=>t`Device-based`,text:()=>t`Device-based`},{value:"force",title:()=>t`Force enabled`,text:()=>t`Force enabled`}]}),e.registerSettingExtension({title:()=>t`Emulate Idle Detector state`,settingName:"emulation.idleDetection",settingType:e.SettingTypeObject.ENUM,defaultValue:"none",options:[{value:"none",title:()=>t`No idle emulation`,text:()=>t`No idle emulation`},{value:'{"isUserActive":true,"isScreenUnlocked":true}',title:()=>t`User active, screen unlocked`,text:()=>t`User active, screen unlocked`},{value:'{"isUserActive":true,"isScreenUnlocked":false}',title:()=>t`User active, screen locked`,text:()=>t`User active, screen locked`},{value:'{"isUserActive":false,"isScreenUnlocked":true}',title:()=>t`User idle, screen unlocked`,text:()=>t`User idle, screen unlocked`},{value:'{"isUserActive":false,"isScreenUnlocked":false}',title:()=>t`User idle, screen locked`,text:()=>t`User idle, screen locked`}]});
